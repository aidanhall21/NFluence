{"ast":null,"code":"var _jsxFileName = \"/Users/aidanhall/Desktop/nsft-v3/client/src/screens/ProfileEdit/index.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport cn from \"classnames\";\nimport styles from \"./ProfileEdit.module.sass\";\nimport Control from \"../../components/Control\";\nimport TextInput from \"../../components/TextInput\";\nimport TextArea from \"../../components/TextArea\";\nimport Icon from \"../../components/Icon\";\nimport { useAuth } from \"../../providers/AuthProvider\";\nimport { useUser } from \"../../providers/UserProvider\";\nimport axios from \"axios\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst breadcrumbs = [{\n  title: \"Home\",\n  url: \"/\"\n}, {\n  title: \"Edit Profile\"\n}];\nlet api_node;\nprocess.env.NODE_ENV === \"production\" ? api_node = '' : api_node = process.env.REACT_APP_LOCAL_API_NODE;\n\nconst ProfileEdit = () => {\n  _s();\n\n  const {\n    user,\n    logOut\n  } = useAuth();\n  const {\n    balance,\n    profile\n  } = useUser();\n  const [file, setFile] = useState(null);\n\n  const onProfilePhotoChange = e => {\n    let data = new FormData();\n    let file = e.target.files[0];\n    let ext_array = file.name.split('.');\n    let ext = ext_array[ext_array.length - 1];\n    data.append('file', file, (user === null || user === void 0 ? void 0 : user.addr) + '-profile.' + ext);\n    axios.post(`${api_node}/api/v1/upload`, data, {});\n    profile.verified ? axios.put(`${api_node}/api/v1/user/update`, {\n      name: profile.name,\n      email: profile.email,\n      handle: profile.handle,\n      cover_image: profile.cover_image,\n      profile_image: true,\n      address: user === null || user === void 0 ? void 0 : user.addr\n    }) : axios.post(`${api_node}/api/v1/user`, {\n      name: profile.name,\n      email: profile.email,\n      avatar: profile.avatar,\n      verified: true,\n      cover_image: false,\n      profile_image: true,\n      handle: profile.handle,\n      address: user === null || user === void 0 ? void 0 : user.addr\n    });\n  };\n\n  const onProfilePhotoSubmit = e => {\n    let data = new FormData();\n    let ext_array = file.name.split('.');\n    let ext = ext_array[ext_array.length - 1];\n    data.append('file', file, (user === null || user === void 0 ? void 0 : user.addr) + '-profile.' + ext);\n    axios.post(`${api_node}/api/v1/upload`, data, {});\n    profile.verified ? axios.put(`${api_node}/api/v1/user/update`, {\n      name: profile.name,\n      email: profile.email,\n      handle: profile.handle,\n      cover_image: profile.cover_image,\n      profile_image: true,\n      address: user === null || user === void 0 ? void 0 : user.addr\n    }) : axios.post(`${api_node}/api/v1/user`, {\n      name: profile.name,\n      email: profile.email,\n      avatar: profile.avatar,\n      verified: true,\n      cover_image: false,\n      profile_image: true,\n      handle: profile.handle,\n      address: user === null || user === void 0 ? void 0 : user.addr\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: styles.page,\n    children: [/*#__PURE__*/_jsxDEV(Control, {\n      className: styles.control,\n      item: breadcrumbs\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: cn(\"section-pt80\", styles.section),\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: cn(\"container\", styles.container),\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: styles.top,\n          children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n            className: cn(\"h2\", styles.title),\n            children: \"Edit profile\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 92,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: styles.info,\n            children: [\"You can set preferred display name, create\", \" \", /*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"your profile URL\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 95,\n              columnNumber: 15\n            }, this), \" and manage other personal settings.\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 93,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: styles.row,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: styles.col,\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: styles.user,\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: styles.avatar,\n                children: /*#__PURE__*/_jsxDEV(\"img\", {\n                  src: `data:image/png;base64,${profile[0].avatar}`,\n                  alt: \"Avatar\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 103,\n                  columnNumber: 17\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 102,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: styles.details,\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: styles.stage,\n                  children: \"Profile photo\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 106,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: styles.text,\n                  children: [\"We recommend an image of at least 400x400. Gifs work too\", \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n                    role: \"img\",\n                    \"aria-label\": \"hooray\",\n                    children: \"\\uD83D\\uDE4C\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 109,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 107,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: styles.file,\n                  children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                    className: cn(\"button-stroke button-small\", styles.button),\n                    children: \"Upload\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 114,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                    className: styles.load,\n                    type: \"file\",\n                    name: \"file\",\n                    accept: \"image/*\",\n                    onChange: onProfilePhotoChange\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 119,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 113,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 105,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 101,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 100,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: styles.col,\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: styles.list,\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: styles.item,\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: styles.category,\n                  children: \"Account info\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 127,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: styles.fieldset,\n                  children: [/*#__PURE__*/_jsxDEV(TextInput, {\n                    className: styles.field,\n                    label: \"display name\",\n                    name: \"Name\",\n                    type: \"text\",\n                    placeholder: \"Enter your display name\",\n                    required: true\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 129,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(TextInput, {\n                    className: styles.field,\n                    label: \"Custom url\",\n                    name: \"Url\",\n                    type: \"text\",\n                    placeholder: \"ui8.net/Your custom URL\",\n                    required: true\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 137,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(TextArea, {\n                    className: styles.field,\n                    label: \"Bio\",\n                    name: \"Bio\",\n                    placeholder: \"About yourselt in a few words\",\n                    required: \"required\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 145,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 128,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 126,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: styles.item,\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: styles.category,\n                  children: \"Social\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 155,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: styles.fieldset,\n                  children: [/*#__PURE__*/_jsxDEV(TextInput, {\n                    className: styles.field,\n                    label: \"portfolio or website\",\n                    name: \"Portfolio\",\n                    type: \"text\",\n                    placeholder: \"Enter URL\",\n                    required: true\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 157,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: styles.box,\n                    children: [/*#__PURE__*/_jsxDEV(TextInput, {\n                      className: styles.field,\n                      label: \"twitter\",\n                      name: \"Twitter\",\n                      type: \"text\",\n                      placeholder: \"@twitter username\",\n                      required: true\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 166,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                      className: cn(\"button-stroke button-small\", styles.button),\n                      children: \"Verify account\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 174,\n                      columnNumber: 23\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 165,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 156,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  className: cn(\"button-stroke button-small\", styles.button),\n                  children: [/*#__PURE__*/_jsxDEV(Icon, {\n                    name: \"plus-circle\",\n                    size: \"16\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 187,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    children: \"Add more social account\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 188,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 184,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 154,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 125,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: styles.note,\n              children: \"To update your settings you should sign message through your wallet. Click 'Update profile' then sign the message\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 192,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: styles.btns,\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                className: cn(\"button\", styles.button),\n                children: \"Update Profile\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 197,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                className: styles.clear,\n                children: [/*#__PURE__*/_jsxDEV(Icon, {\n                  name: \"circle-close\",\n                  size: \"24\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 201,\n                  columnNumber: 19\n                }, this), \"Clear all\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 200,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 196,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 124,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 87,\n    columnNumber: 5\n  }, this);\n};\n\n_s(ProfileEdit, \"pZ3jLNyz9fCkeXSIsj5hTNpPGA0=\", false, function () {\n  return [useAuth, useUser];\n});\n\n_c = ProfileEdit;\nexport default ProfileEdit;\n\nvar _c;\n\n$RefreshReg$(_c, \"ProfileEdit\");","map":{"version":3,"sources":["/Users/aidanhall/Desktop/nsft-v3/client/src/screens/ProfileEdit/index.js"],"names":["React","useState","Link","cn","styles","Control","TextInput","TextArea","Icon","useAuth","useUser","axios","breadcrumbs","title","url","api_node","process","env","NODE_ENV","REACT_APP_LOCAL_API_NODE","ProfileEdit","user","logOut","balance","profile","file","setFile","onProfilePhotoChange","e","data","FormData","target","files","ext_array","name","split","ext","length","append","addr","post","verified","put","email","handle","cover_image","profile_image","address","avatar","onProfilePhotoSubmit","page","control","section","container","top","info","row","col","details","stage","text","button","load","list","item","category","fieldset","field","box","note","btns","clear"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport cn from \"classnames\";\nimport styles from \"./ProfileEdit.module.sass\";\nimport Control from \"../../components/Control\";\nimport TextInput from \"../../components/TextInput\";\nimport TextArea from \"../../components/TextArea\";\nimport Icon from \"../../components/Icon\";\nimport { useAuth } from \"../../providers/AuthProvider\";\nimport { useUser } from \"../../providers/UserProvider\";\nimport axios from \"axios\";\n\nconst breadcrumbs = [\n  {\n    title: \"Home\",\n    url: \"/\",\n  },\n  {\n    title: \"Edit Profile\",\n  },\n];\n\nlet api_node;\nprocess.env.NODE_ENV === \"production\"\n  ? api_node = ''\n  : api_node = process.env.REACT_APP_LOCAL_API_NODE\n\n\nconst ProfileEdit = () => {\n  const { user, logOut } = useAuth()\n  const { balance, profile } = useUser()\n  const [file, setFile] = useState(null)\n\n  const onProfilePhotoChange = (e) => {\n    let data = new FormData()\n    let file = e.target.files[0]\n    let ext_array = file.name.split('.')\n    let ext = ext_array[ext_array.length - 1]\n    data.append('file', file, user?.addr + '-profile.' + ext)\n    axios.post(`${api_node}/api/v1/upload`, data, {})\n    profile.verified ?\n    axios.put(`${api_node}/api/v1/user/update`, {\n      name: profile.name,\n      email: profile.email,\n      handle: profile.handle,\n      cover_image: profile.cover_image,\n      profile_image: true,\n      address: user?.addr\n    }) : axios.post(`${api_node}/api/v1/user`, {\n      name: profile.name,\n      email: profile.email,\n      avatar: profile.avatar,\n      verified: true,\n      cover_image: false,\n      profile_image: true,\n      handle: profile.handle,\n      address: user?.addr,\n    })\n  }\n\n  const onProfilePhotoSubmit = (e) => {\n    let data = new FormData()\n    let ext_array = file.name.split('.')\n    let ext = ext_array[ext_array.length - 1]\n    data.append('file', file, user?.addr + '-profile.' + ext)\n    axios.post(`${api_node}/api/v1/upload`, data, {})\n    profile.verified ?\n    axios.put(`${api_node}/api/v1/user/update`, {\n      name: profile.name,\n      email: profile.email,\n      handle: profile.handle,\n      cover_image: profile.cover_image,\n      profile_image: true,\n      address: user?.addr\n    }) : axios.post(`${api_node}/api/v1/user`, {\n      name: profile.name,\n      email: profile.email,\n      avatar: profile.avatar,\n      verified: true,\n      cover_image: false,\n      profile_image: true,\n      handle: profile.handle,\n      address: user?.addr,\n    })\n  }\n  return (\n    <div className={styles.page}>\n      <Control className={styles.control} item={breadcrumbs} />\n      <div className={cn(\"section-pt80\", styles.section)}>\n        <div className={cn(\"container\", styles.container)}>\n          <div className={styles.top}>\n            <h1 className={cn(\"h2\", styles.title)}>Edit profile</h1>\n            <div className={styles.info}>\n              You can set preferred display name, create{\" \"}\n              <strong>your profile URL</strong> and manage other personal\n              settings.\n            </div>\n          </div>\n          <div className={styles.row}>\n            <div className={styles.col}>\n              <div className={styles.user}>\n                <div className={styles.avatar}>\n                <img src={`data:image/png;base64,${profile[0].avatar}`} alt=\"Avatar\" />\n                </div>\n                <div className={styles.details}>\n                  <div className={styles.stage}>Profile photo</div>\n                  <div className={styles.text}>\n                    We recommend an image of at least 400x400. Gifs work too{\" \"}\n                    <span role=\"img\" aria-label=\"hooray\">\n                      🙌\n                    </span>\n                  </div>\n                  <div className={styles.file}>\n                    <button\n                      className={cn(\"button-stroke button-small\", styles.button)}\n                    >\n                      Upload\n                    </button>\n                    <input className={styles.load} type=\"file\" name=\"file\" accept=\"image/*\" onChange={onProfilePhotoChange} />\n                  </div>\n                </div>\n              </div>\n            </div>\n            <div className={styles.col}>\n              <div className={styles.list}>\n                <div className={styles.item}>\n                  <div className={styles.category}>Account info</div>\n                  <div className={styles.fieldset}>\n                    <TextInput\n                      className={styles.field}\n                      label=\"display name\"\n                      name=\"Name\"\n                      type=\"text\"\n                      placeholder=\"Enter your display name\"\n                      required\n                    />\n                    <TextInput\n                      className={styles.field}\n                      label=\"Custom url\"\n                      name=\"Url\"\n                      type=\"text\"\n                      placeholder=\"ui8.net/Your custom URL\"\n                      required\n                    />\n                    <TextArea\n                      className={styles.field}\n                      label=\"Bio\"\n                      name=\"Bio\"\n                      placeholder=\"About yourselt in a few words\"\n                      required=\"required\"\n                    />\n                  </div>\n                </div>\n                <div className={styles.item}>\n                  <div className={styles.category}>Social</div>\n                  <div className={styles.fieldset}>\n                    <TextInput\n                      className={styles.field}\n                      label=\"portfolio or website\"\n                      name=\"Portfolio\"\n                      type=\"text\"\n                      placeholder=\"Enter URL\"\n                      required\n                    />\n                    <div className={styles.box}>\n                      <TextInput\n                        className={styles.field}\n                        label=\"twitter\"\n                        name=\"Twitter\"\n                        type=\"text\"\n                        placeholder=\"@twitter username\"\n                        required\n                      />\n                      <button\n                        className={cn(\n                          \"button-stroke button-small\",\n                          styles.button\n                        )}\n                      >\n                        Verify account\n                      </button>\n                    </div>\n                  </div>\n                  <button\n                    className={cn(\"button-stroke button-small\", styles.button)}\n                  >\n                    <Icon name=\"plus-circle\" size=\"16\" />\n                    <span>Add more social account</span>\n                  </button>\n                </div>\n              </div>\n              <div className={styles.note}>\n                To update your settings you should sign message through your\n                wallet. Click 'Update profile' then sign the message\n              </div>\n              <div className={styles.btns}>\n                <button className={cn(\"button\", styles.button)}>\n                  Update Profile\n                </button>\n                <button className={styles.clear}>\n                  <Icon name=\"circle-close\" size=\"24\" />\n                  Clear all\n                </button>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default ProfileEdit;\n"]},"metadata":{},"sourceType":"module"}