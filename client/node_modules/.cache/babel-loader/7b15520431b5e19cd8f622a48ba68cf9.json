{"ast":null,"code":"export const CREATE_AUCTION = `\nimport NSFAuction from 0xNSFAUCTION\nimport NSFT from 0xNSFT\nimport FungibleToken from 0x9a0766d93b6608b7\n\ntransaction(nftId: UInt64, startPrice: UFix64) {\n    let ownerCollectionCap: Capability<&{NSFT.NSFTCollectionPublic}>\n    let ownerVaultCap: Capability<&{FungibleToken.Receiver}>\n    let storefront: &NSFAuction.Storefront\n    let accountCollectionRef: &NSFT.Collection\n\n    prepare(acct: AuthAccount) {\n        self.storefront = acct.borrow<&NSFAuction.Storefront>(from: NSFAuction.StorefrontStoragePath)\n            ?? panic(\"Missing or mis-typed NFTStorefront Storefront\")\n        self.accountCollectionRef = acct.borrow<&NSFT.Collection>(from: /storage/NFTCollection)\n            ?? panic(\"Cannot borrow reference to collection\")\n        self.ownerCollectionCap = acct.getCapability<&{NSFT.NSFTCollectionPublic}>(NSFT.CollectionPublicPath)\n        self.ownerVaultCap = acct.getCapability<&{FungibleToken.Receiver}>(/public/utilityCoinReceiver)\n    }\n\n    execute {\n        let currentTime = getCurrentBlock().timestamp\n        let minimumBidIncrement = (1 as Int32)\n        let auctionLength = 604800.0\n\n        let nft <- self.accountCollectionRef.withdraw(withdrawID: nftId)\n        self.storefront.createAuction(token: <-nft, minimumBidIncrement: minimumBidIncrement, auctionLength: auctionLength, auctionStartTime: currentTime, startPrice: startPrice, collectionCap: self.ownerCollectionCap, vaultCap: self.ownerVaultCap)\n    }\n}\n`;","map":{"version":3,"sources":["/Users/aidanhall/Desktop/nsft/client/src/flow/create-auction.tx.js"],"names":["CREATE_AUCTION"],"mappings":"AAAA,OAAO,MAAMA,cAAc,GAAI;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CA7BO","sourcesContent":["export const CREATE_AUCTION = `\nimport NSFAuction from 0xNSFAUCTION\nimport NSFT from 0xNSFT\nimport FungibleToken from 0x9a0766d93b6608b7\n\ntransaction(nftId: UInt64, startPrice: UFix64) {\n    let ownerCollectionCap: Capability<&{NSFT.NSFTCollectionPublic}>\n    let ownerVaultCap: Capability<&{FungibleToken.Receiver}>\n    let storefront: &NSFAuction.Storefront\n    let accountCollectionRef: &NSFT.Collection\n\n    prepare(acct: AuthAccount) {\n        self.storefront = acct.borrow<&NSFAuction.Storefront>(from: NSFAuction.StorefrontStoragePath)\n            ?? panic(\"Missing or mis-typed NFTStorefront Storefront\")\n        self.accountCollectionRef = acct.borrow<&NSFT.Collection>(from: /storage/NFTCollection)\n            ?? panic(\"Cannot borrow reference to collection\")\n        self.ownerCollectionCap = acct.getCapability<&{NSFT.NSFTCollectionPublic}>(NSFT.CollectionPublicPath)\n        self.ownerVaultCap = acct.getCapability<&{FungibleToken.Receiver}>(/public/utilityCoinReceiver)\n    }\n\n    execute {\n        let currentTime = getCurrentBlock().timestamp\n        let minimumBidIncrement = (1 as Int32)\n        let auctionLength = 604800.0\n\n        let nft <- self.accountCollectionRef.withdraw(withdrawID: nftId)\n        self.storefront.createAuction(token: <-nft, minimumBidIncrement: minimumBidIncrement, auctionLength: auctionLength, auctionStartTime: currentTime, startPrice: startPrice, collectionCap: self.ownerCollectionCap, vaultCap: self.ownerVaultCap)\n    }\n}\n`"]},"metadata":{},"sourceType":"module"}