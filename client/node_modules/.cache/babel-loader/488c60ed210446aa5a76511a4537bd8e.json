{"ast":null,"code":"var _jsxFileName = \"/Users/aidanhall/Desktop/nsft/client/src/screens/ProfileEdit/index.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from \"react\";\nimport cn from \"classnames\";\nimport styles from \"./ProfileEdit.module.sass\";\nimport Control from \"../../components/Control\";\nimport TextInput from \"../../components/TextInput\";\nimport TextArea from \"../../components/TextArea\";\nimport { useAuth } from \"../../providers/AuthProvider\";\nimport { useUser } from \"../../providers/UserProvider\";\nimport axios from \"axios\";\nimport Form from \"../../components/Form\";\nimport { mutate, tx } from \"@onflow/fcl\";\nimport { MINT_UTILITY_COIN } from \"../../flow/mint-utility-coin.tx\";\nimport Loader from \"../../components/Loader\";\nimport { formatAmountInput } from \"../../mocks/functions\";\nimport { authorizationFunction } from \"../../services/authorization-function\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst stripe = require('stripe')('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');\n\nconst breadcrumbs = [{\n  title: \"Home\",\n  url: \"/\"\n}, {\n  title: \"Edit Profile\"\n}];\nlet api_node;\nprocess.env.NODE_ENV === \"production\" ? api_node = \"\" : api_node = process.env.REACT_APP_LOCAL_API_NODE;\n\nconst ProductDisplay = () => /*#__PURE__*/_jsxDEV(\"section\", {\n  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n    className: styles.item,\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"description\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"NFluence Balance\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"h5\", {\n        children: \"$1.00\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 35,\n    columnNumber: 5\n  }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n    action: \"/create-checkout-session\",\n    method: \"POST\",\n    children: /*#__PURE__*/_jsxDEV(\"button\", {\n      type: \"submit\",\n      children: \"Checkout\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 41,\n    columnNumber: 5\n  }, this)]\n}, void 0, true, {\n  fileName: _jsxFileName,\n  lineNumber: 34,\n  columnNumber: 3\n}, this);\n\n_c = ProductDisplay;\n\nconst Message = ({\n  message\n}) => /*#__PURE__*/_jsxDEV(\"section\", {\n  children: /*#__PURE__*/_jsxDEV(\"p\", {\n    children: message\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 51,\n    columnNumber: 5\n  }, this)\n}, void 0, false, {\n  fileName: _jsxFileName,\n  lineNumber: 50,\n  columnNumber: 3\n}, this);\n\n_c2 = Message;\n\nconst ProfileEdit = () => {\n  _s();\n\n  const {\n    user\n  } = useAuth();\n  const {\n    profile,\n    getBalance,\n    collection,\n    fetchUserData\n  } = useUser();\n  const [name, setName] = useState(\"\");\n  const [username, setUsername] = useState(\"\");\n  const [change, setChange] = useState(false);\n  const [bio, setBio] = useState(\"\");\n  const [url, setUrl] = useState(\"\");\n  const [twitter, setTwitter] = useState(\"\");\n  const [insta, setInsta] = useState(\"\");\n  const [email, setEmail] = useState(\"\");\n  const [errors, setErrors] = useState(false);\n  const [deposit, setDeposit] = useState(0);\n  const [loading, setLoading] = useState(false);\n  const [success, setSuccess] = useState(false);\n  const [error, setError] = useState(false);\n  const [updateSuccess, setUpdateSuccess] = useState(false);\n  const [verified, setVerified] = useState(false);\n  const [src, setSrc] = useState('');\n  const [message, setMessage] = useState(\"\");\n  useEffect(() => {\n    // Check to see if this is a redirect back from Checkout\n    const query = new URLSearchParams(window.location.search);\n\n    if (query.get(\"success\")) {\n      setMessage(\"Order placed! You will receive an email confirmation.\");\n    }\n\n    if (query.get(\"canceled\")) {\n      setMessage(\"Order canceled -- continue to shop around and checkout when you're ready.\");\n    }\n  }, []);\n\n  function uploadFile(file, signedRequest, url) {\n    const xhr = new XMLHttpRequest();\n    xhr.open('PUT', signedRequest);\n\n    xhr.onreadystatechange = () => {\n      if (xhr.readyState === 4) {\n        if (xhr.status === 200) {\n          setSrc(url);\n          console.log(url);\n        } else {\n          alert('Could not upload file');\n        }\n      }\n    };\n\n    xhr.send(file);\n  }\n\n  const getSignedRequest = file => {\n    const xhr = new XMLHttpRequest(); //const type = file.type.split('/')[1]\n\n    const filename = `${user === null || user === void 0 ? void 0 : user.addr}-profile`;\n    xhr.open('GET', `${api_node}/api/v1/sign-s3?file-name=${filename}&file-type=${file.type}`);\n\n    xhr.onreadystatechange = () => {\n      if (xhr.readyState === 4) {\n        if (xhr.status === 200) {\n          const response = JSON.parse(xhr.responseText);\n          uploadFile(file, response.signedRequest, response.url);\n        } else {\n          alert('Could not get signed URL');\n        }\n      }\n    };\n\n    xhr.send();\n  };\n\n  const onProfilePhotoChange = e => {\n    const file = e.target.files[0];\n\n    if (file == null) {\n      return alert('No file selected.');\n    }\n\n    getSignedRequest(file);\n    profile.db ? axios.put(`${api_node}/api/v1/user/update`, {\n      name: profile.name,\n      email: profile.email,\n      handle: profile.handle,\n      cover_image: profile.cover_image,\n      profile_image: true,\n      address: user === null || user === void 0 ? void 0 : user.addr,\n      bio: profile.bio,\n      url: profile.url,\n      twitter: profile.twitter,\n      instagram: profile.instagram\n    }) : axios.post(`${api_node}/api/v1/user`, {\n      name: profile.name,\n      email: profile.email,\n      handle: profile.handle,\n      avatar: profile.avatar,\n      address: user === null || user === void 0 ? void 0 : user.addr,\n      db: true,\n      cover_image: false,\n      profile_image: true,\n      bio: profile.bio,\n      url: profile.url,\n      twitter: profile.twitter,\n      instagram: profile.instagram,\n      verified: profile.verified\n    }); //window.location.reload();\n  };\n\n  const handleNameChange = async e => {\n    setName(e);\n  };\n\n  const handleUsernameChange = async e => {\n    setUsername(e);\n    setChange(true);\n  };\n\n  const handleBioChange = async e => {\n    setBio(e);\n  };\n\n  const handleUrlChange = async e => {\n    setUrl(e);\n  };\n\n  const handleTwitterChange = async e => {\n    setTwitter(e);\n  };\n\n  const handleInstagramChange = async e => {\n    setInsta(e);\n  };\n\n  const handleEmailChange = async e => {\n    setEmail(e);\n  };\n\n  useEffect(() => {\n    setName(profile.name);\n    setUsername(profile.handle);\n    setBio(profile.bio);\n    setUrl(profile.url);\n    setTwitter(profile.twitter);\n    setInsta(profile.instagram);\n    setEmail(profile.email);\n    profile.profile_image ? setSrc(`https://nfluence-assets.s3.amazonaws.com/${user === null || user === void 0 ? void 0 : user.addr}-profile`) : setSrc(`data:image/png;base64,${profile.avatar}`);\n  }, [profile]);\n\n  const handleSubmit = async e => {\n    e.preventDefault();\n    let taken = false;\n\n    if (change) {\n      const API = await axios.get(`${api_node}/api/v1/usernames/${username}`);\n      const serverResponse = API.data;\n\n      if (serverResponse[0].num_unique !== '0') {\n        taken = true;\n      }\n    }\n\n    if (taken) {\n      setErrors(true);\n      return;\n    } else {\n      profile.db ? axios.put(`${api_node}/api/v1/user/update`, {\n        name: name,\n        email: email,\n        handle: username,\n        cover_image: profile.cover_image,\n        profile_image: profile.profile_image,\n        address: user === null || user === void 0 ? void 0 : user.addr,\n        bio: bio,\n        url: url,\n        twitter: twitter,\n        instagram: insta\n      }) : axios.post(`${api_node}/api/v1/user`, {\n        name: name,\n        email: email,\n        avatar: profile.avatar,\n        db: true,\n        cover_image: profile.cover_image,\n        profile_image: profile.profile_image,\n        handle: username,\n        address: user === null || user === void 0 ? void 0 : user.addr,\n        bio: bio,\n        url: url,\n        twitter: twitter,\n        instagram: insta,\n        verified: profile.verified\n      });\n      setUpdateSuccess(true); //await fetchUserData()\n\n      setTimeout(() => {\n        window.location.reload();\n      }, 500);\n    }\n  };\n\n  const onDepositSubmit = async e => {\n    e.preventDefault();\n\n    if (!collection) {\n      setVerified(true);\n      return;\n    }\n\n    const paymentIntent = await stripe.paymentIntents.create({\n      payment_method_types: ['card'],\n      amount: 1000,\n      currency: 'usd',\n      application_fee_amount: 123,\n      transfer_data: {\n        destination: '{{CONNECTED_STRIPE_ACCOUNT_ID}}'\n      }\n    });\n    setLoading(true);\n\n    try {\n      let res = await mutate({\n        cadence: MINT_UTILITY_COIN,\n        args: (arg, t) => [arg(user === null || user === void 0 ? void 0 : user.addr, t.Address), arg(formatAmountInput(deposit), t.UFix64)],\n        limit: 200,\n        authz: authorizationFunction\n      });\n      let txStatus = await tx(res).onceSealed();\n      setSuccess(true);\n      setLoading(false);\n      getBalance();\n      return txStatus;\n    } catch (err) {\n      setError(true);\n      setLoading(false);\n      console.log(err);\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: styles.page,\n    children: [/*#__PURE__*/_jsxDEV(Control, {\n      className: styles.control,\n      item: breadcrumbs\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 299,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: cn(\"section-pt80\", styles.section),\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: cn(\"container\", styles.container),\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: styles.top,\n          children: /*#__PURE__*/_jsxDEV(\"h1\", {\n            className: cn(\"h2\", styles.title),\n            children: \"Edit profile\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 303,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 302,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: styles.row,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: styles.col,\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: styles.user,\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: styles.avatar,\n                children: /*#__PURE__*/_jsxDEV(\"img\", {\n                  id: \"preview\",\n                  src: src,\n                  alt: \"Avatar\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 309,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 308,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: styles.details,\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: styles.stage,\n                  children: \"Profile photo\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 316,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: styles.file,\n                  children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                    className: cn(\"button-stroke button-small\", styles.button),\n                    children: \"Upload\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 318,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                    className: styles.load,\n                    type: \"file\",\n                    name: \"file\",\n                    accept: \"image/*\",\n                    onChange: onProfilePhotoChange\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 326,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 317,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 315,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 307,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 306,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: styles.col,\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: styles.list,\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: styles.item,\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: styles.category,\n                  children: \"Account info\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 340,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: styles.fieldset,\n                  children: [/*#__PURE__*/_jsxDEV(TextInput, {\n                    className: styles.field,\n                    label: \"name\",\n                    name: \"Name\",\n                    type: \"text\",\n                    placeholder: profile.name ? profile.name : \"Enter your name\",\n                    required: true,\n                    onChange: e => handleNameChange(e.currentTarget.value)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 342,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(TextInput, {\n                    className: styles.field,\n                    label: \"Username\",\n                    name: \"Handle\",\n                    type: \"text\",\n                    placeholder: profile.handle ? profile.handle : \"Enter your Username\",\n                    required: true,\n                    onChange: e => handleUsernameChange(e.currentTarget.value)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 353,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(TextInput, {\n                    className: styles.field,\n                    label: \"email\",\n                    name: \"Email\",\n                    type: \"text\",\n                    placeholder: profile.email ? profile.email : \"Enter your email\",\n                    required: true,\n                    onChange: e => handleEmailChange(e.currentTarget.value)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 367,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(TextArea, {\n                    className: styles.field,\n                    label: \"Bio\",\n                    name: \"Bio\",\n                    placeholder: profile.bio ? profile.bio : \"About yourself in a few words\",\n                    required: \"required\",\n                    onChange: e => handleBioChange(e.currentTarget.value)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 378,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 341,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 339,\n                columnNumber: 17\n              }, this), message ? /*#__PURE__*/_jsxDEV(Message, {\n                message: message\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 393,\n                columnNumber: 19\n              }, this) : /*#__PURE__*/_jsxDEV(ProductDisplay, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 395,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: styles.item,\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: styles.category,\n                  children: \"Fund Your Account with USD\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 399,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: styles.fieldset,\n                  children: [loading && /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: styles.item,\n                    children: /*#__PURE__*/_jsxDEV(\"button\", {\n                      className: cn(\"button loading\", styles.button),\n                      children: /*#__PURE__*/_jsxDEV(Loader, {\n                        className: styles.loader,\n                        color: \"white\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 406,\n                        columnNumber: 27\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 405,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 404,\n                    columnNumber: 23\n                  }, this), success && /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: cn(styles.item, styles.done),\n                    children: /*#__PURE__*/_jsxDEV(\"button\", {\n                      className: cn(\"button success\", styles.button),\n                      children: \"Deposit Successful!\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 412,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 411,\n                    columnNumber: 23\n                  }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: cn(styles.item, styles.error),\n                    children: /*#__PURE__*/_jsxDEV(\"button\", {\n                      className: cn(\"button error\", styles.button),\n                      children: \"Deposit Failed\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 419,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 418,\n                    columnNumber: 23\n                  }, this), !loading && !error && !success && /*#__PURE__*/_jsxDEV(Form, {\n                    className: styles.form,\n                    onSubmit: e => onDepositSubmit(e),\n                    placeholder: \"Enter an amount in USD\",\n                    setValue: setDeposit,\n                    type: \"number\",\n                    name: \"price\",\n                    step: 1,\n                    min: 0\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 425,\n                    columnNumber: 23\n                  }, this), verified && /*#__PURE__*/_jsxDEV(\"div\", {\n                    children: \"You must verify your account before you can mint\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 436,\n                    columnNumber: 35\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 402,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 398,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: styles.item,\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: styles.category,\n                  children: \"Social\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 440,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: styles.fieldset,\n                  children: [/*#__PURE__*/_jsxDEV(TextInput, {\n                    className: styles.field,\n                    label: \"portfolio or website\",\n                    name: \"Portfolio\",\n                    type: \"text\",\n                    placeholder: profile.url ? profile.url : \"Enter URL\",\n                    required: true,\n                    onChange: e => handleUrlChange(e.currentTarget.value)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 442,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(TextInput, {\n                    className: styles.field,\n                    label: \"twitter\",\n                    name: \"Twitter\",\n                    type: \"text\",\n                    placeholder: profile.twitter ? profile.twitter : \"@twitter username\",\n                    required: true,\n                    onChange: e => handleTwitterChange(e.currentTarget.value)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 451,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(TextInput, {\n                    className: styles.field,\n                    label: \"instagram\",\n                    name: \"Instagram\",\n                    type: \"text\",\n                    placeholder: profile.instagram ? profile.instagram : \"@instagram username\",\n                    required: true,\n                    onChange: e => handleInstagramChange(e.currentTarget.value)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 464,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 441,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 439,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 338,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: styles.btns,\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                className: cn(\"button\", styles.button),\n                onClick: e => handleSubmit(e),\n                children: !updateSuccess ? 'Update Profile' : 'Update Successful!'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 483,\n                columnNumber: 17\n              }, this), errors && /*#__PURE__*/_jsxDEV(\"div\", {\n                children: \"Your username has been taken already :(\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 490,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 482,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 337,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 305,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 301,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 300,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 298,\n    columnNumber: 5\n  }, this);\n};\n\n_s(ProfileEdit, \"DlT9fZFbQ7VXQ0MeuQhDTSQtCmY=\", false, function () {\n  return [useAuth, useUser];\n});\n\n_c3 = ProfileEdit;\nexport default ProfileEdit;\n\nvar _c, _c2, _c3;\n\n$RefreshReg$(_c, \"ProductDisplay\");\n$RefreshReg$(_c2, \"Message\");\n$RefreshReg$(_c3, \"ProfileEdit\");","map":{"version":3,"sources":["/Users/aidanhall/Desktop/nsft/client/src/screens/ProfileEdit/index.js"],"names":["React","useEffect","useState","cn","styles","Control","TextInput","TextArea","useAuth","useUser","axios","Form","mutate","tx","MINT_UTILITY_COIN","Loader","formatAmountInput","authorizationFunction","stripe","require","breadcrumbs","title","url","api_node","process","env","NODE_ENV","REACT_APP_LOCAL_API_NODE","ProductDisplay","item","Message","message","ProfileEdit","user","profile","getBalance","collection","fetchUserData","name","setName","username","setUsername","change","setChange","bio","setBio","setUrl","twitter","setTwitter","insta","setInsta","email","setEmail","errors","setErrors","deposit","setDeposit","loading","setLoading","success","setSuccess","error","setError","updateSuccess","setUpdateSuccess","verified","setVerified","src","setSrc","setMessage","query","URLSearchParams","window","location","search","get","uploadFile","file","signedRequest","xhr","XMLHttpRequest","open","onreadystatechange","readyState","status","console","log","alert","send","getSignedRequest","filename","addr","type","response","JSON","parse","responseText","onProfilePhotoChange","e","target","files","db","put","handle","cover_image","profile_image","address","instagram","post","avatar","handleNameChange","handleUsernameChange","handleBioChange","handleUrlChange","handleTwitterChange","handleInstagramChange","handleEmailChange","handleSubmit","preventDefault","taken","API","serverResponse","data","num_unique","setTimeout","reload","onDepositSubmit","paymentIntent","paymentIntents","create","payment_method_types","amount","currency","application_fee_amount","transfer_data","destination","res","cadence","args","arg","t","Address","UFix64","limit","authz","txStatus","onceSealed","err","page","control","section","container","top","row","col","details","stage","button","load","list","category","fieldset","field","currentTarget","value","loader","done","form","btns"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport cn from \"classnames\";\nimport styles from \"./ProfileEdit.module.sass\";\nimport Control from \"../../components/Control\";\nimport TextInput from \"../../components/TextInput\";\nimport TextArea from \"../../components/TextArea\";\nimport { useAuth } from \"../../providers/AuthProvider\";\nimport { useUser } from \"../../providers/UserProvider\";\nimport axios from \"axios\";\nimport Form from \"../../components/Form\";\nimport { mutate, tx } from \"@onflow/fcl\";\nimport { MINT_UTILITY_COIN } from \"../../flow/mint-utility-coin.tx\";\nimport Loader from \"../../components/Loader\";\nimport { formatAmountInput } from \"../../mocks/functions\";\nimport { authorizationFunction } from \"../../services/authorization-function\";\nconst stripe = require('stripe')('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')\n\nconst breadcrumbs = [\n  {\n    title: \"Home\",\n    url: \"/\",\n  },\n  {\n    title: \"Edit Profile\",\n  },\n];\n\nlet api_node;\nprocess.env.NODE_ENV === \"production\"\n  ? (api_node = \"\")\n  : (api_node = process.env.REACT_APP_LOCAL_API_NODE);\n\nconst ProductDisplay = () => (\n  <section>\n    <div className={styles.item}>\n      <div className=\"description\">\n      <h3>NFluence Balance</h3>\n      <h5>$1.00</h5>\n      </div>\n    </div>\n    <form action=\"/create-checkout-session\" method=\"POST\">\n      <button type=\"submit\">\n        Checkout\n      </button>\n    </form>\n  </section>\n);\n\nconst Message = ({ message }) => (\n  <section>\n    <p>{message}</p>\n  </section>\n);\n\nconst ProfileEdit = () => {\n  const { user } = useAuth();\n  const { profile, getBalance, collection, fetchUserData } = useUser();\n  const [name, setName] = useState(\"\");\n  const [username, setUsername] = useState(\"\");\n  const [change, setChange] = useState(false);\n  const [bio, setBio] = useState(\"\");\n  const [url, setUrl] = useState(\"\");\n  const [twitter, setTwitter] = useState(\"\");\n  const [insta, setInsta] = useState(\"\");\n  const [email, setEmail] = useState(\"\");\n  const [errors, setErrors] = useState(false);\n  const [deposit, setDeposit] = useState(0);\n  const [loading, setLoading] = useState(false);\n  const [success, setSuccess] = useState(false);\n  const [error, setError] = useState(false);\n  const [updateSuccess, setUpdateSuccess] = useState(false)\n  const [verified, setVerified] = useState(false)\n  const [src, setSrc] = useState('')\n  const [message, setMessage] = useState(\"\");\n\n  useEffect(() => {\n    // Check to see if this is a redirect back from Checkout\n    const query = new URLSearchParams(window.location.search);\n    if (query.get(\"success\")) {\n      setMessage(\"Order placed! You will receive an email confirmation.\");\n    }\n    if (query.get(\"canceled\")) {\n      setMessage(\n        \"Order canceled -- continue to shop around and checkout when you're ready.\"\n      );\n    }\n  }, []);\n\n  function uploadFile(file, signedRequest, url) {\n    const xhr = new XMLHttpRequest();\n    xhr.open('PUT', signedRequest);\n    xhr.onreadystatechange = () => {\n      if (xhr.readyState === 4) {\n        if (xhr.status === 200) {\n          setSrc(url)\n          console.log(url)\n        }\n        else {\n          alert('Could not upload file');\n        }\n      }\n    };\n    xhr.send(file);\n  }\n\n  const getSignedRequest = (file) => {\n    const xhr = new XMLHttpRequest();\n    //const type = file.type.split('/')[1]\n    const filename = `${user?.addr}-profile`\n    xhr.open('GET', `${api_node}/api/v1/sign-s3?file-name=${filename}&file-type=${file.type}`);\n    xhr.onreadystatechange = () => {\n      if (xhr.readyState === 4) {\n        if (xhr.status === 200) {\n          const response = JSON.parse(xhr.responseText);\n          uploadFile(file, response.signedRequest, response.url)\n        }\n        else {\n          alert('Could not get signed URL');\n        }\n      }\n    };\n    xhr.send();\n  }\n\n  const onProfilePhotoChange = (e) => {\n\n    const file = e.target.files[0]\n    if (file == null) {\n      return alert('No file selected.');\n    }\n    getSignedRequest(file);\n    profile.db\n      ? axios.put(`${api_node}/api/v1/user/update`, {\n          name: profile.name,\n          email: profile.email,\n          handle: profile.handle,\n          cover_image: profile.cover_image,\n          profile_image: true,\n          address: user?.addr,\n          bio: profile.bio,\n          url: profile.url,\n          twitter: profile.twitter,\n          instagram: profile.instagram,\n        })\n      : axios.post(`${api_node}/api/v1/user`, {\n          name: profile.name,\n          email: profile.email,\n          handle: profile.handle,\n          avatar: profile.avatar,\n          address: user?.addr,\n          db: true,\n          cover_image: false,\n          profile_image: true,\n          bio: profile.bio,\n          url: profile.url,\n          twitter: profile.twitter,\n          instagram: profile.instagram,\n          verified: profile.verified\n        });\n    //window.location.reload();\n  };\n\n  const handleNameChange = async (e) => {\n    setName(e);\n  };\n\n  const handleUsernameChange = async (e) => {\n    setUsername(e);\n    setChange(true);\n  };\n\n  const handleBioChange = async (e) => {\n    setBio(e);\n  };\n\n  const handleUrlChange = async (e) => {\n    setUrl(e);\n  };\n\n  const handleTwitterChange = async (e) => {\n    setTwitter(e);\n  };\n\n  const handleInstagramChange = async (e) => {\n    setInsta(e);\n  };\n\n  const handleEmailChange = async (e) => {\n    setEmail(e);\n  };\n\n  useEffect(() => {\n    setName(profile.name);\n    setUsername(profile.handle);\n    setBio(profile.bio);\n    setUrl(profile.url);\n    setTwitter(profile.twitter);\n    setInsta(profile.instagram);\n    setEmail(profile.email);\n    profile.profile_image ? setSrc(`https://nfluence-assets.s3.amazonaws.com/${user?.addr}-profile`) : setSrc(`data:image/png;base64,${profile.avatar}`)\n  }, [profile]);\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    let taken = false;\n\n    if (change) {\n      const API = await axios.get(`${api_node}/api/v1/usernames/${username}`);\n      const serverResponse = API.data;\n\n      if (serverResponse[0].num_unique !== '0') {\n        taken = true;\n      }\n    }\n    if (taken) {\n      setErrors(true);\n      return;\n    } else {\n      profile.db\n        ? axios.put(`${api_node}/api/v1/user/update`, {\n            name: name,\n            email: email,\n            handle: username,\n            cover_image: profile.cover_image,\n            profile_image: profile.profile_image,\n            address: user?.addr,\n            bio: bio,\n            url: url,\n            twitter: twitter,\n            instagram: insta,\n          })\n        : axios.post(`${api_node}/api/v1/user`, {\n            name: name,\n            email: email,\n            avatar: profile.avatar,\n            db: true,\n            cover_image: profile.cover_image,\n            profile_image: profile.profile_image,\n            handle: username,\n            address: user?.addr,\n            bio: bio,\n            url: url,\n            twitter: twitter,\n            instagram: insta,\n            verified: profile.verified\n          });\n      setUpdateSuccess(true)\n      //await fetchUserData()\n      setTimeout(() => {\n        window.location.reload();\n      }, 500)\n    }\n  };\n\n  const onDepositSubmit = async (e) => {\n    e.preventDefault();\n    if (!collection) {\n      setVerified(true)\n      return\n    }\n\n    const paymentIntent = await stripe.paymentIntents.create({\n      payment_method_types: ['card'],\n      amount: 1000,\n      currency: 'usd',\n      application_fee_amount: 123,\n      transfer_data: {\n        destination: '{{CONNECTED_STRIPE_ACCOUNT_ID}}',\n      },\n    });\n\n\n\n    setLoading(true);\n    try {\n      let res = await mutate({\n        cadence: MINT_UTILITY_COIN,\n        args: (arg, t) => [\n          arg(user?.addr, t.Address),\n          arg(formatAmountInput(deposit), t.UFix64),\n        ],\n        limit: 200,\n        authz: authorizationFunction\n      });\n      let txStatus = await tx(res).onceSealed();\n      setSuccess(true);\n      setLoading(false);\n      getBalance()\n      return txStatus;\n    } catch (err) {\n      setError(true);\n      setLoading(false);\n      console.log(err);\n    }\n  };\n\n  return (\n    <div className={styles.page}>\n      <Control className={styles.control} item={breadcrumbs} />\n      <div className={cn(\"section-pt80\", styles.section)}>\n        <div className={cn(\"container\", styles.container)}>\n          <div className={styles.top}>\n            <h1 className={cn(\"h2\", styles.title)}>Edit profile</h1>\n          </div>\n          <div className={styles.row}>\n            <div className={styles.col}>\n              <div className={styles.user}>\n                <div className={styles.avatar}>\n                    <img\n                      id=\"preview\"\n                      src={src}\n                      alt=\"Avatar\"\n                    />\n                </div>\n                <div className={styles.details}>\n                  <div className={styles.stage}>Profile photo</div>\n                  <div className={styles.file}>\n                    <button\n                      className={cn(\n                        \"button-stroke button-small\",\n                        styles.button\n                      )}\n                    >\n                      Upload\n                    </button>\n                    <input\n                      className={styles.load}\n                      type=\"file\"\n                      name=\"file\"\n                      accept=\"image/*\"\n                      onChange={onProfilePhotoChange}\n                    />\n                  </div>\n                      </div>\n              </div>\n            </div>\n            <div className={styles.col}>\n              <div className={styles.list}>\n                <div className={styles.item}>\n                  <div className={styles.category}>Account info</div>\n                  <div className={styles.fieldset}>\n                    <TextInput\n                      className={styles.field}\n                      label=\"name\"\n                      name=\"Name\"\n                      type=\"text\"\n                      placeholder={\n                        profile.name ? profile.name : \"Enter your name\"\n                      }\n                      required\n                      onChange={(e) => handleNameChange(e.currentTarget.value)}\n                    />\n                    <TextInput\n                      className={styles.field}\n                      label=\"Username\"\n                      name=\"Handle\"\n                      type=\"text\"\n                      placeholder={\n                        profile.handle ? profile.handle : \"Enter your Username\"\n                      }\n                      required\n                      onChange={(e) =>\n                        handleUsernameChange(e.currentTarget.value)\n                      }\n                    />\n\n                    <TextInput\n                      className={styles.field}\n                      label=\"email\"\n                      name=\"Email\"\n                      type=\"text\"\n                      placeholder={\n                        profile.email ? profile.email : \"Enter your email\"\n                      }\n                      required\n                      onChange={(e) => handleEmailChange(e.currentTarget.value)}\n                    />\n                    <TextArea\n                      className={styles.field}\n                      label=\"Bio\"\n                      name=\"Bio\"\n                      placeholder={\n                        profile.bio\n                          ? profile.bio\n                          : \"About yourself in a few words\"\n                      }\n                      required=\"required\"\n                      onChange={(e) => handleBioChange(e.currentTarget.value)}\n                    />\n                  </div>\n                </div>\n                { message ? (\n                  <Message message={message} />\n                ) : (\n                  <ProductDisplay />\n                )\n                }\n                <div className={styles.item}>\n                  <div className={styles.category}>\n                    Fund Your Account with USD\n                  </div>\n                  <div className={styles.fieldset}>\n                    {loading && (\n                      <div className={styles.item}>\n                        <button className={cn(\"button loading\", styles.button)}>\n                          <Loader className={styles.loader} color=\"white\" />\n                        </button>\n                      </div>\n                    )}\n                    {success && (\n                      <div className={cn(styles.item, styles.done)}>\n                        <button className={cn(\"button success\", styles.button)}>\n                          Deposit Successful!\n                        </button>\n                      </div>\n                    )}\n                    {error && (\n                      <div className={cn(styles.item, styles.error)}>\n                        <button className={cn(\"button error\", styles.button)}>\n                          Deposit Failed\n                        </button>\n                      </div>\n                    )}\n                    {!loading && !error && !success && (\n                      <Form\n                        className={styles.form}\n                        onSubmit={(e) => onDepositSubmit(e)}\n                        placeholder=\"Enter an amount in USD\"\n                        setValue={setDeposit}\n                        type=\"number\"\n                        name=\"price\"\n                        step={1}\n                        min={0}\n                      />\n                    )}\n                    {verified && (<div>You must verify your account before you can mint</div>)}\n                  </div>\n                </div>\n                <div className={styles.item}>\n                  <div className={styles.category}>Social</div>\n                  <div className={styles.fieldset}>\n                    <TextInput\n                      className={styles.field}\n                      label=\"portfolio or website\"\n                      name=\"Portfolio\"\n                      type=\"text\"\n                      placeholder={profile.url ? profile.url : \"Enter URL\"}\n                      required\n                      onChange={(e) => handleUrlChange(e.currentTarget.value)}\n                    />\n                    <TextInput\n                      className={styles.field}\n                      label=\"twitter\"\n                      name=\"Twitter\"\n                      type=\"text\"\n                      placeholder={\n                        profile.twitter ? profile.twitter : \"@twitter username\"\n                      }\n                      required\n                      onChange={(e) =>\n                        handleTwitterChange(e.currentTarget.value)\n                      }\n                    />\n                    <TextInput\n                      className={styles.field}\n                      label=\"instagram\"\n                      name=\"Instagram\"\n                      type=\"text\"\n                      placeholder={\n                        profile.instagram\n                          ? profile.instagram\n                          : \"@instagram username\"\n                      }\n                      required\n                      onChange={(e) =>\n                        handleInstagramChange(e.currentTarget.value)\n                      }\n                    />\n                  </div>\n                </div>\n              </div>\n              <div className={styles.btns}>\n                <button\n                  className={cn(\"button\", styles.button)}\n                  onClick={(e) => handleSubmit(e)}\n                >\n                  {!updateSuccess ? 'Update Profile' : 'Update Successful!'}\n                </button>\n                {errors && (\n                  <div>Your username has been taken already :(</div>\n                )}\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default ProfileEdit;\n"]},"metadata":{},"sourceType":"module"}