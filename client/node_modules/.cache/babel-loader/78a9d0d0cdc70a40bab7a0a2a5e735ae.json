{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport { useEffect, useReducer } from \"react\";\nimport { defaultReducer } from \"../reducer/defaultReducer\";\nimport Identicon from \"identicon.js\";\nimport axios from \"axios\";\nimport { AVATAR_DEFAULT } from \"../components/Header/User/avatar-default\";\nlet api_node;\nprocess.env.NODE_ENV === \"production\" ? api_node = '' : api_node = process.env.REACT_APP_LOCAL_API_NODE;\nexport default function useProfileData(user) {\n  _s();\n\n  const [state, dispatch] = useReducer(defaultReducer, {\n    loading: false,\n    error: false,\n    data: []\n  });\n  useEffect(() => {\n    const fetchUserData = async () => {\n      dispatch({\n        type: 'PROCESSING'\n      });\n\n      try {\n        const api = await axios.get(`${api_node}/api/v1/user/${user === null || user === void 0 ? void 0 : user.addr}`);\n        const serverResponse = api.data;\n\n        if (serverResponse.length > 0) {\n          dispatch({\n            type: 'SUCCESS',\n            payload: serverResponse\n          });\n        }\n\n        dispatch({\n          type: 'SUCCESS',\n          payload: {\n            avatar: AVATAR_DEFAULT,\n            name: 'new_user',\n            handle: user === null || user === void 0 ? void 0 : user.addr\n          }\n        });\n      } catch (err) {\n        dispatch({\n          type: 'ERROR'\n        });\n      }\n    };\n\n    fetchUserData();\n  }, [user === null || user === void 0 ? void 0 : user.addr]);\n  return { ...state\n  };\n}\n\n_s(useProfileData, \"vOhIhtfE6AQm+sSGrXsuETbsI3A=\");","map":{"version":3,"sources":["/Users/aidanhall/Desktop/nsft-v3/client/src/hooks/use-profile-data.hook.js"],"names":["useEffect","useReducer","defaultReducer","Identicon","axios","AVATAR_DEFAULT","api_node","process","env","NODE_ENV","REACT_APP_LOCAL_API_NODE","useProfileData","user","state","dispatch","loading","error","data","fetchUserData","type","api","get","addr","serverResponse","length","payload","avatar","name","handle","err"],"mappings":";;AAAA,SAASA,SAAT,EAAoBC,UAApB,QAAsC,OAAtC;AACA,SAASC,cAAT,QAA+B,2BAA/B;AACA,OAAOC,SAAP,MAAsB,cAAtB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,cAAT,QAA+B,0CAA/B;AAEA,IAAIC,QAAJ;AACAC,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,YAAzB,GACIH,QAAQ,GAAG,EADf,GAEIA,QAAQ,GAAGC,OAAO,CAACC,GAAR,CAAYE,wBAF3B;AAIA,eAAe,SAASC,cAAT,CAAwBC,IAAxB,EAA8B;AAAA;;AACzC,QAAM,CAACC,KAAD,EAAQC,QAAR,IAAoBb,UAAU,CAACC,cAAD,EAAiB;AACjDa,IAAAA,OAAO,EAAE,KADwC;AAEjDC,IAAAA,KAAK,EAAE,KAF0C;AAGjDC,IAAAA,IAAI,EAAE;AAH2C,GAAjB,CAApC;AAMEjB,EAAAA,SAAS,CAAC,MAAM;AACd,UAAMkB,aAAa,GAAG,YAAY;AAChCJ,MAAAA,QAAQ,CAAC;AAAEK,QAAAA,IAAI,EAAE;AAAR,OAAD,CAAR;;AACA,UAAI;AACF,cAAMC,GAAG,GAAG,MAAMhB,KAAK,CAACiB,GAAN,CAAW,GAAEf,QAAS,gBAAeM,IAA3B,aAA2BA,IAA3B,uBAA2BA,IAAI,CAAEU,IAAK,EAAhD,CAAlB;AACA,cAAMC,cAAc,GAAGH,GAAG,CAACH,IAA3B;;AACA,YAAIM,cAAc,CAACC,MAAf,GAAwB,CAA5B,EAA+B;AAC7BV,UAAAA,QAAQ,CAAC;AAAEK,YAAAA,IAAI,EAAE,SAAR;AAAmBM,YAAAA,OAAO,EAAEF;AAA5B,WAAD,CAAR;AACD;;AACDT,QAAAA,QAAQ,CAAC;AAAEK,UAAAA,IAAI,EAAE,SAAR;AAAmBM,UAAAA,OAAO,EAAE;AACjCC,YAAAA,MAAM,EAAErB,cADyB;AAEjCsB,YAAAA,IAAI,EAAE,UAF2B;AAGjCC,YAAAA,MAAM,EAAEhB,IAAF,aAAEA,IAAF,uBAAEA,IAAI,CAAEU;AAHmB;AAA5B,SAAD,CAAR;AAKD,OAXD,CAWE,OAAMO,GAAN,EAAW;AACXf,QAAAA,QAAQ,CAAC;AAAEK,UAAAA,IAAI,EAAE;AAAR,SAAD,CAAR;AACD;AACF,KAhBD;;AAiBAD,IAAAA,aAAa;AACd,GAnBQ,EAmBN,CAACN,IAAD,aAACA,IAAD,uBAACA,IAAI,CAAEU,IAAP,CAnBM,CAAT;AAqBF,SAAO,EACH,GAAGT;AADA,GAAP;AAGH;;GA/BuBF,c","sourcesContent":["import { useEffect, useReducer } from \"react\";\nimport { defaultReducer } from \"../reducer/defaultReducer\";\nimport Identicon from \"identicon.js\";\nimport axios from \"axios\";\nimport { AVATAR_DEFAULT } from \"../components/Header/User/avatar-default\";\n\nlet api_node;\nprocess.env.NODE_ENV === \"production\"\n  ? api_node = ''\n  : api_node = process.env.REACT_APP_LOCAL_API_NODE\n\nexport default function useProfileData(user) {\n    const [state, dispatch] = useReducer(defaultReducer, {\n        loading: false,\n        error: false,\n        data: []\n      })\n\n      useEffect(() => {\n        const fetchUserData = async () => {\n          dispatch({ type: 'PROCESSING' })\n          try {\n            const api = await axios.get(`${api_node}/api/v1/user/${user?.addr}`)\n            const serverResponse = api.data;\n            if (serverResponse.length > 0) {\n              dispatch({ type: 'SUCCESS', payload: serverResponse })\n            }\n            dispatch({ type: 'SUCCESS', payload: {\n                avatar: AVATAR_DEFAULT,\n                name: 'new_user',\n                handle: user?.addr,\n              }})\n          } catch(err) {\n            dispatch({ type: 'ERROR' })\n          }\n        }\n        fetchUserData()\n      }, [user?.addr])\n\n    return {\n        ...state,\n    }\n}"]},"metadata":{},"sourceType":"module"}